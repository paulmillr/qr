import { should } from 'micro-should';
import { deepStrictEqual } from 'node:assert';
import { _tests } from '../src/index.ts';

should('detectType', () => {
  const VECTORS = [
    ['numeric', '12345678'],
    ['alphanumeric', 'HELLO WORLD'], // only upper-case letters can be encoded here
    ['byte', '#Ô∏è‚É£üßú‚Äç‚ôÇÔ∏èüèéüîçüîª'],
  ];
  for (const [type, val] of VECTORS) {
    deepStrictEqual(_tests.detectType(val), type);
  }
});

should('encodeData', () => {
  const VECTORS = [
    {
      text: '12345678',
      version: 1,
      ecc: 'low',
      exp: [
        16, 32, 123, 114, 39, 0, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 188,
        247, 62, 248, 53, 170, 224,
      ],
    },
    {
      text: 'HELLO WORLD',
      version: 1,
      ecc: 'low',
      exp: [
        32, 91, 11, 120, 209, 114, 220, 77, 67, 64, 236, 17, 236, 17, 236, 17, 236, 17, 236, 209,
        239, 196, 207, 78, 195, 109,
      ],
    },
    {
      text: 'üîª',
      version: 1,
      ecc: 'low',
      exp: [
        64, 79, 9, 249, 75, 176, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 3, 99,
        190, 127, 225, 243, 91,
      ],
    },
    {
      text: 'HELLO WORLD!123',
      version: 1,
      ecc: 'low',
      exp: [
        64, 244, 132, 84, 196, 196, 242, 5, 116, 245, 36, 196, 66, 19, 19, 35, 48, 236, 17, 224, 16,
        46, 161, 123, 208, 138,
      ],
    },
    {
      text: 'HELLO',
      version: 1,
      ecc: 'high',
      exp: [
        32, 43, 11, 120, 204, 0, 236, 17, 236, 109, 149, 156, 18, 217, 41, 246, 36, 42, 84, 46, 225,
        190, 218, 251, 27, 196,
      ],
    },
    {
      text: 'HELLO WORLD',
      version: 2,
      ecc: 'high',
      exp: [
        32, 91, 11, 120, 209, 114, 220, 77, 67, 64, 236, 17, 236, 17, 236, 17, 160, 72, 249, 35, 10,
        6, 195, 31, 94, 27, 113, 37, 124, 145, 66, 90, 54, 168, 56, 162, 2, 77, 162, 41, 163, 243,
        119, 37,
      ],
    },
    {
      text: '#Ô∏è‚É£üßú‚Äç‚ôÇÔ∏èüèéüîçüîª',
      version: 2,
      ecc: 'low',
      exp: [
        66, 2, 62, 251, 136, 254, 40, 58, 63, 9, 250, 121, 206, 40, 8, 222, 41, 152, 46, 251, 136,
        255, 9, 248, 248, 239, 9, 249, 72, 223, 9, 249, 75, 176, 223, 46, 81, 150, 199, 237, 133,
        104, 11, 7,
      ],
    },
    {
      text: '#Ô∏è‚É£üßú‚Äç‚ôÇÔ∏èüèéüîçüîª',
      version: 4,
      ecc: 'high',
      exp: [
        66, 9, 46, 249, 2, 250, 251, 72, 62, 121, 136, 223, 251, 206, 255, 9, 136, 40, 9, 249, 254,
        8, 248, 75, 40, 222, 248, 176, 58, 41, 239, 236, 63, 152, 9, 17, 102, 1, 224, 95, 217, 59,
        20, 173, 177, 126, 177, 21, 119, 22, 166, 229, 140, 34, 200, 80, 102, 241, 72, 203, 178,
        105, 220, 171, 198, 197, 153, 90, 157, 131, 255, 133, 96, 64, 105, 26, 55, 76, 54, 219, 37,
        90, 90, 248, 9, 180, 94, 204, 125, 66, 185, 41, 216, 238, 251, 143, 122, 235, 141, 38,
      ],
    },
    {
      text: 'HELLO WORLD',
      version: 5,
      ecc: 'high',
      exp: [
        32, 17, 236, 236, 91, 236, 17, 17, 11, 17, 236, 236, 120, 236, 17, 17, 209, 17, 236, 236,
        114, 236, 17, 17, 220, 17, 236, 236, 77, 236, 17, 17, 67, 17, 236, 236, 64, 236, 17, 17,
        236, 17, 236, 236, 17, 17, 37, 222, 104, 104, 71, 179, 219, 219, 140, 20, 225, 225, 242, 42,
        31, 31, 51, 196, 120, 120, 242, 224, 91, 91, 183, 167, 193, 193, 92, 154, 234, 234, 186,
        173, 157, 157, 218, 179, 63, 63, 124, 219, 191, 191, 21, 236, 5, 5, 176, 53, 131, 131, 1,
        149, 166, 166, 22, 123, 141, 141, 238, 60, 8, 8, 192, 206, 62, 62, 79, 155, 48, 48, 86, 101,
        214, 214, 159, 83, 44, 44, 130, 29, 46, 46, 103, 22, 39, 39,
      ],
    },
    {
      text: '123456789087654321123456789087654321123456789087654321123456789087654321123456789087654321123456789087654321',
      version: 6,
      ecc: 'high',
      exp: [
        17, 229, 229, 229, 176, 4, 4, 4, 123, 123, 123, 0, 114, 114, 114, 236, 49, 49, 49, 17, 81,
        81, 81, 236, 94, 94, 94, 17, 142, 142, 142, 236, 80, 80, 80, 17, 71, 71, 71, 236, 183, 183,
        183, 17, 35, 35, 35, 236, 21, 21, 21, 17, 21, 21, 21, 236, 232, 232, 232, 17, 220, 163, 163,
        111, 247, 71, 71, 31, 0, 164, 164, 131, 178, 32, 32, 42, 78, 208, 208, 249, 165, 108, 108,
        40, 197, 38, 38, 52, 245, 204, 204, 36, 216, 58, 58, 164, 131, 117, 117, 184, 80, 65, 65,
        174, 132, 81, 81, 163, 227, 168, 168, 22, 0, 174, 174, 173, 214, 176, 176, 254, 56, 210,
        210, 36, 196, 12, 12, 136, 247, 122, 122, 199, 220, 14, 14, 224, 253, 160, 160, 124, 242,
        60, 60, 221, 150, 236, 236, 180, 186, 155, 155, 78, 145, 182, 182, 175, 211, 47, 47, 213,
        251, 180, 180, 33, 171, 40, 40, 144, 109, 168, 168, 182,
      ],
    },
    {
      text: '012345678901234567890123456789012345678901234567890123456789012345678901',
      version: 2,
      ecc: 'low',
      exp: [
        17, 32, 12, 86, 106, 110, 20, 234, 141, 247, 161, 237, 200, 197, 64, 197, 102, 166, 225, 78,
        168, 223, 122, 30, 220, 140, 84, 12, 86, 106, 110, 20, 0, 236, 180, 231, 14, 109, 128, 232,
        17, 242, 86, 28,
      ],
    },

    {
      text: 'HELLO WORLD',
      version: 40,
      ecc: 'high',
      exp: [
        32, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 5, 17, 236, 17, 236, 17, 236,
        17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        176, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 183, 17, 236, 17, 236, 17, 236,
        17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        141, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 23, 17, 236, 17, 236, 17, 236,
        17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        45, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 196, 17, 236, 17, 236, 17, 236,
        17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        212, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 52, 17, 236, 17, 236, 17, 236,
        17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 0,
        236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 236, 17, 236, 17, 236, 17, 236, 17,
        236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 236, 17, 236, 17, 236, 17, 236,
        17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236, 17, 236,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236,
        236, 101, 239, 63, 239, 63, 239, 63, 239, 63, 239, 63, 239, 63, 239, 63, 239, 63, 239, 63,
        239, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190,
        190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190,
        190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190,
        190, 190, 190, 190, 190, 190, 190, 190, 230, 220, 123, 220, 123, 220, 123, 220, 123, 220,
        123, 220, 123, 220, 123, 220, 123, 220, 123, 220, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 95, 153, 1, 153, 1, 153, 1, 153, 1, 153, 1,
        153, 1, 153, 1, 153, 1, 153, 1, 153, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127,
        127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127,
        127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127,
        127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 10, 144, 239, 144,
        239, 144, 239, 144, 239, 144, 239, 144, 239, 144, 239, 144, 239, 144, 239, 144, 18, 18, 18,
        18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18,
        18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18,
        18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 237, 58, 233, 58, 233, 58, 233, 58, 233, 58,
        233, 58, 233, 58, 233, 58, 233, 58, 233, 58, 219, 219, 219, 219, 219, 219, 219, 219, 219,
        219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219,
        219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219,
        219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 219, 66, 171,
        172, 171, 172, 171, 172, 171, 172, 171, 172, 171, 172, 171, 172, 171, 172, 171, 172, 171,
        81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81,
        81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81,
        81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 112, 215, 78, 215, 78, 215, 78,
        215, 78, 215, 78, 215, 78, 215, 78, 215, 78, 215, 78, 215, 41, 41, 41, 41, 41, 41, 41, 41,
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
        41, 41, 41, 41, 41, 41, 41, 68, 228, 105, 228, 105, 228, 105, 228, 105, 228, 105, 228, 105,
        228, 105, 228, 105, 228, 105, 228, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207,
        207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207,
        207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207,
        207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 179, 99, 245, 99, 245,
        99, 245, 99, 245, 99, 245, 99, 245, 99, 245, 99, 245, 99, 245, 99, 131, 131, 131, 131, 131,
        131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131,
        131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131,
        131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131, 131,
        131, 131, 69, 240, 59, 240, 59, 240, 59, 240, 59, 240, 59, 240, 59, 240, 59, 240, 59, 240,
        59, 240, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225,
        225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225,
        225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225,
        225, 225, 225, 225, 225, 225, 225, 225, 225, 1, 152, 207, 152, 207, 152, 207, 152, 207, 152,
        207, 152, 207, 152, 207, 152, 207, 152, 207, 152, 207, 207, 207, 207, 207, 207, 207, 207,
        207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207,
        207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207,
        207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 176,
        122, 77, 122, 77, 122, 77, 122, 77, 122, 77, 122, 77, 122, 77, 122, 77, 122, 77, 122, 111,
        111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111,
        111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111,
        111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111,
        111, 111, 111, 111, 111, 111, 57, 223, 147, 223, 147, 223, 147, 223, 147, 223, 147, 223,
        147, 223, 147, 223, 147, 223, 147, 223, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 255, 248, 101, 248, 101, 248, 101, 248, 101, 248,
        101, 248, 101, 248, 101, 248, 101, 248, 101, 248, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75,
        75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75,
        75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75,
        75, 75, 75, 75, 75, 80, 233, 224, 233, 224, 233, 224, 233, 224, 233, 224, 233, 224, 233,
        224, 233, 224, 233, 224, 233, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172,
        172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172,
        172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172,
        172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 56, 61, 32, 61, 32, 61, 32,
        61, 32, 61, 32, 61, 32, 61, 32, 61, 32, 61, 32, 61, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57,
        57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57,
        57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57,
        57, 57, 57, 57, 57, 136, 93, 159, 93, 159, 93, 159, 93, 159, 93, 159, 93, 159, 93, 159, 93,
        159, 93, 159, 93, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53,
        53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53,
        53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 138, 166,
        162, 166, 162, 166, 162, 166, 162, 166, 162, 166, 162, 166, 162, 166, 162, 166, 162, 166,
        89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89,
        89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89,
        89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 89, 68, 111, 88, 111, 88, 111, 88,
        111, 88, 111, 88, 111, 88, 111, 88, 111, 88, 111, 88, 111, 150, 150, 150, 150, 150, 150,
        150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150,
        150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150,
        150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150,
        150, 51, 65, 190, 65, 190, 65, 190, 65, 190, 65, 190, 65, 190, 65, 190, 65, 190, 65, 190,
        65, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
        170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
        170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
        170, 170, 170, 170, 170, 170, 170, 170, 28, 188, 30, 188, 30, 188, 30, 188, 30, 188, 30,
        188, 30, 188, 30, 188, 30, 188, 30, 188, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104,
        104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104,
        104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104,
        104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 48, 5, 98, 5, 98,
        5, 98, 5, 98, 5, 98, 5, 98, 5, 98, 5, 98, 5, 98, 5, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46,
        46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46,
        46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46,
        46, 46, 46, 46, 46, 153, 101, 87, 101, 87, 101, 87, 101, 87, 101, 87, 101, 87, 101, 87, 101,
        87, 101, 87, 101, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121,
        121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121,
        121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 121,
        121, 121, 121, 121, 121, 121, 121, 121, 121, 121, 139, 39, 114, 39, 114, 39, 114, 39, 114,
        39, 114, 39, 114, 39, 114, 39, 114, 39, 114, 39, 188, 188, 188, 188, 188, 188, 188, 188,
        188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188,
        188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188,
        188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 4, 87,
        47, 87, 47, 87, 47, 87, 47, 87, 47, 87, 47, 87, 47, 87, 47, 87, 47, 87, 75, 75, 75, 75, 75,
        75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75,
        75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75,
        75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 181, 206, 51, 206, 51, 206, 51, 206, 51, 206, 51,
        206, 51, 206, 51, 206, 51, 206, 51, 206, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128,
        128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128,
        128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128,
        128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 51, 226, 247,
        226, 247, 226, 247, 226, 247, 226, 247, 226, 247, 226, 247, 226, 247, 226, 247, 226, 100,
        100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100,
        100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100,
        100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100,
        100, 100, 100, 100, 100, 100, 172, 61, 218, 61, 218, 61, 218, 61, 218, 61, 218, 61, 218, 61,
        218, 61, 218, 61, 218, 61, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149,
        149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149,
        149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149,
        149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 149, 94, 96, 121, 96, 121, 96, 121,
        96, 121, 96, 121, 96, 121, 96, 121, 96, 121, 96, 121, 96, 206, 206, 206, 206, 206, 206, 206,
        206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206,
        206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206,
        206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206, 206,
        46, 3, 148, 3, 148, 3, 148, 3, 148, 3, 148, 3, 148, 3, 148, 3, 148, 3, 148, 3, 128, 128,
        128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128,
        128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128,
        128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128,
        128, 128, 128, 128, 128,
      ],
    },
  ];
  for (const v of VECTORS) {
    deepStrictEqual(
      _tests.encode(v.version, v.ecc, v.text, _tests.detectType(v.text)),
      Uint8Array.from(v.exp)
    );
  }
});

should.runWhen(import.meta.url);
